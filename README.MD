Для реализации оплат у нас используются четыре таблицы

таблица токенов: сюда приходят данные из приложения с токеном покупки, пользователем и названием продукта

таблица услуг содержит колонки
    пользователь
    класс услуги
    айди прогноза если есть
    дата окончания если есть
    флаг активности

Таблица платежных операций хранит данные по платежным транзакциям с суммами, валютами, идентификаторами транзакций и платежей

Таблица лога входящих запросов - сюда кидаем сырые данные, пришедшие от магазинов



    